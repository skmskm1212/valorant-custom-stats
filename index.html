<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Valorant Custom Stats</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <main class="wrap">
    <header class="top">
      <h1>내전 통계</h1>
      <div class="meta">
        <span id="status">데이터 불러오는 중…</span>
        <span class="pill">경기 <b id="matchCount">-</b></span>
      </div>
    </header>

    <!-- 플레이어 랭킹 -->
    <section class="card">
      <div class="row">
        <h2>플레이어 랭킹</h2>
        <div class="controls">
          <label class="ctl">
            정렬
            <select id="sortKey">
              <option value="rating">지표점수</option>
              <option value="winrate">승률</option>
              <option value="games">경기수</option>
              <option value="acs">평균 ACS</option>
              <option value="adr">평균 ADR</option>
              <option value="hs">평균 HS%</option>
              <option value="kda">KDA</option>
              <option value="fk">평균 FK</option>
              <option value="fd">평균 FD</option>
            </select>
          </label>

          <label class="ctl">
            검색
            <input id="search" placeholder="닉네임 검색" />
          </label>
        </div>
      </div>

      <div class="tableWrap">
        <table id="rankTable">
          <thead>
            <tr>
              <th>#</th>
              <th>닉네임</th>
              <th>경기</th>
              <th>승</th>
              <th>승률</th>
              <th>K / D / A</th>
              <th>KDA</th>
              <th>ACS</th>
              <th>ADR</th>
              <th>HS%</th>
              <th>FK</th>
              <th>FD</th>
              <th>주요 요원</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>

      <p class="hint">
        지표점수(초기) = 승률 + (ACS/ADR 정규화) + (FK-FD) 보정
      </p>
    </section>

    <!-- 통계 탭 + 개인 상세 -->
    <section class="card">
      <div class="row">
        <h2>통계</h2>
        <div class="controls">
          <button type="button" id="tabPlayers" class="tab active">플레이어</button>
          <button type="button" id="tabAgents" class="tab">요원</button>
          <button type="button" id="tabMaps" class="tab">맵</button>
        </div>
      </div>

      <div id="panelPlayers" class="panel">
        <p class="hint">플레이어 랭킹에서 <b>닉네임 클릭</b>하면 아래에 상세가 표시됨.</p>
        <div id="playerDetail" class="detailBox" style="display:none;"></div>
      </div>

      <div id="panelAgents" class="panel" style="display:none;">
        <div class="tableWrap">
          <table id="agentTable">
            <thead>
              <tr>
                <th>#</th><th>요원</th><th>픽(명)</th><th>픽률</th><th>승률</th>
                <th>ACS</th><th>ADR</th><th>HS%</th><th>FK</th><th>FD</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>

      <div id="panelMaps" class="panel" style="display:none;">
        <div class="tableWrap">
          <table id="mapTable">
            <thead>
              <tr>
                <th>#</th><th>맵</th><th>경기</th><th>승률</th>
                <th>ACS</th><th>ADR</th><th>HS%</th><th>FK</th><th>FD</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- 원본 -->
    <section class="card">
      <h2>원본(JSON) 확인</h2>
      <pre id="raw"></pre>
    </section>
  </main>

  <script src="./app.js"></script>
</body>
</html>
